<!doctype html>
<html lang="en">
  <head>
    [[HEAD]]
    <title>Hakanai - Share from Clipboard</title>
  </head>
  <body>
    [[THEME_CONTROLS]]

    <main class="container">
      [[HEADER]]

      <div class="content-wrapper">
        <h1>Share from Clipboard</h1>

        <div id="clipboard-content" style="display: none">
          <div class="input-group">
            <h2>Content Preview</h2>
            <div class="clipboard-info">
              <p><strong>Size:</strong> <span id="content-size">-</span></p>
              <p id="filename-row" style="display: none">
                <strong>Filename:</strong> <span id="content-filename">-</span>
              </p>
              <p id="ttl-row">
                <strong>Expires in:</strong>
                <span id="content-ttl">24 hours</span>
              </p>
            </div>
          </div>

          <div class="input-group">
            <button id="share-button" class="button primary">
              <span>Create Secret</span>
            </button>
          </div>
        </div>

        <div id="clipboard-error" style="display: none">
          <div class="result error">
            <h3>Clipboard Error</h3>
            <p id="error-message"></p>
            <p>Expected JSON format:</p>
            <pre><code>&#123;
  "data": "base64-encoded-content",
  "filename": "document.pdf",  // optional
  "token": "auth-token",        // optional
  "ttl": 86400                 // optional
&#125;</code></pre>
          </div>
        </div>

        <div id="permission-prompt" style="display: none">
          <div class="result">
            <h3>Clipboard Access Required</h3>
            <p>
              Click the button below to read the shared content from your
              clipboard.
            </p>
            <button id="read-clipboard" class="button">Read Clipboard</button>
          </div>
        </div>

        <div id="loading" class="loading" style="display: none">
          <div class="spinner"></div>
          <span id="loading-text">Reading clipboard...</span>
        </div>

        <div id="result-success" class="result success" style="display: none">
          <h3>Success!</h3>
          <div class="share-instructions">
            <p>Your secret has been created and the URL copied to clipboard:</p>
          </div>
          <div class="url-display" id="secret-url"></div>
          <div class="buttons-container">
            <button class="copy-button" id="copy-url">Copy URL</button>
            <button class="secondary-button" onclick="window.location.reload()">
              Share Another
            </button>
          </div>
        </div>
      </div>
    </main>

    [[FOOTER]] [[SCRIPTS]]

    <script type="module" src="/share.js?v={cache_buster}"></script>
  </body>
</html>

