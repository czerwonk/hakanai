<!doctype html>
<html lang="en">
  <head>
    [[HEAD]]
    <title data-i18n="page.share.title">Hakanai - Share from Clipboard</title>
  </head>
  <body>
    [[LANGUAGE_SELECTOR]] [[THEME_SWITCHER]]

    <main class="container">
      [[HEADER]]

      <div class="content-wrapper">
        <h1 data-i18n="header.share">Share from Clipboard</h1>

        <div id="clipboard-content" style="display: none">
          <div class="input-group">
            <h2 data-i18n="label.contentPreview">Content Preview</h2>
            <div class="clipboard-info">
              <p>
                <strong data-i18n="label.size">Size:</strong>
                <span id="content-size">-</span>
              </p>
              <p id="filename-row" style="display: none">
                <strong data-i18n="label.filename">Filename:</strong>
                <span id="content-filename">-</span>
              </p>
              <p id="ttl-row">
                <strong data-i18n="label.expiresIn">Expires in:</strong>
                <span id="content-ttl">24 hours</span>
              </p>
            </div>
          </div>

          <div class="input-group">
            <label class="checkbox-label">
              <input type="checkbox" id="separate-key-mode" />
              <span data-i18n="label.separateKey"
                >Show URL and key separately for enhanced security</span
              >
            </label>
            <span data-i18n="helper.separateKey" class="input-helper">
              When enabled, the URL and decryption key are displayed separately,
              allowing you to share them through different channels for enhanced
              security.
            </span>
          </div>

          <div class="input-group">
            <button id="share-button" class="button primary">
              <span data-i18n="button.create">Create Secret</span>
            </button>
          </div>
        </div>

        <div id="clipboard-error" style="display: none">
          <div class="result error">
            <h3 data-i18n="msg.clipboardError">Clipboard Error</h3>
            <p id="error-message"></p>
            <p data-i18n="msg.expectedJsonFormat">Expected JSON format:</p>
            <pre><code>&#123;
  "data": "base64-encoded-content",
  "filename": "document.pdf",  // optional
  "token": "auth-token",        // optional
  "ttl": 86400                 // optional
&#125;</code></pre>
          </div>
        </div>

        <div id="permission-prompt" style="display: none">
          <div class="result">
            <h3 data-i18n="msg.clipboardRequired">Clipboard Access Required</h3>
            <p data-i18n="msg.clipboardRequiredDetail">
              Click the button below to read the shared content from your
              clipboard.
            </p>
            <div class="button-spacing">
              <button
                id="read-clipboard"
                class="button"
                data-i18n="button.readClipboard"
              >
                Read Clipboard
              </button>
            </div>
          </div>
        </div>

        <div id="loading" class="loading" style="display: none">
          <div class="spinner"></div>
          <span id="loading-text">Reading clipboard...</span>
        </div>

        <div id="result-success" class="result success" style="display: none">
          <h3 data-i18n="msg.successTitle">Success!</h3>
          <div class="share-instructions">
            <p data-i18n="msg.shareSuccess">
              Your secret has been created and the URL copied to clipboard:
            </p>
          </div>
          <div class="url-display" id="secret-url"></div>
          <div class="buttons-container">
            <button class="copy-button" id="copy-url" data-i18n="button.copy">
              ðŸ“‹ Copy
            </button>
          </div>
        </div>
      </div>
      [[FOOTER]]
    </main>
    <script type="module" src="/share.js?v={cache_buster}"></script>
  </body>
</html>
